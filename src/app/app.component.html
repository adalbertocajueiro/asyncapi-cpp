<div class="main-container">
  <div class="header">
    <app-header></app-header>
  </div>
  <div class="left-and-content">
    <div class="left"></div>
    <div class="content">
      <div class="tool-bar">
        <button mat-stroked-button color="warn" (click)="fileInput.click()" >
          <mat-icon fontSet="material-icons-outlined" >upload</mat-icon>
            Load AsyncAPI file</button>
        <input style="display: none" type="file" (change)="onFileChanged($event)" #fileInput>

        <div class="message" *ngIf="!this.apiDocument"><label>No specification file loaded. Please select a valid Async API YAML file</label></div>
      </div>
      <div class="content-container">
        <div class="left-panel">
          <span>Specification details</span>
          <div class="metainfo">
            <div class="line">
              <label>Async API version: </label><label class="value">{{this.apiDocument?.version()}} </label>
            </div>
            <div class="line">
              <label>Tittle: </label><label class="value">{{this.apiDocument?.info()?.title()}}</label>
            </div>
            <div class="line">
              <label>Version: </label><label class="value">{{this.apiDocument?.info()?.version()}}</label>
            </div>
            <div class="line">
              <label>Contact: </label><label class="value">{{this.apiDocument?.info()?.contact()?.name()}}
                  ({{this.apiDocument?.info()?.contact()?.email()}})</label>
            </div>
           
          </div>
          <label class="line">Object structure:</label>
          <ngx-json-viewer [json]="documentContent" [expanded]="false" style="overflow:auto!important;"></ngx-json-viewer>
          <div>
            <button mat-stroked-button color="primary" (click)="this.exportToZip()">download zip</button>
          </div>
        </div>
        <div class="right-panel">
          <span>Select items for code generation</span>
          <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style" multiple>
            <mat-button-toggle value="definitions" (click)="definitionsClicked()">Definitions</mat-button-toggle>
            <mat-button-toggle value="conversion-functions"
              (click)="conversionFunctionsClicked()">Functions</mat-button-toggle>
            <mat-button-toggle value="metainfo" (click)="metainfoClicked()">Metainfo</mat-button-toggle>
            <mat-button-toggle value="topics" (click)="topicsClicked()">Topics</mat-button-toggle>
            <mat-button-toggle value="communication-layer" (click)="communicationLayerClicked()">Comm.
              Layer</mat-button-toggle>
            <mat-button-toggle value="communication-layer-impl" (click)="communicationLayerImplClicked()">Comm.
              Impl</mat-button-toggle>
          </mat-button-toggle-group>
          <app-code-list [addItemSubject]="this.addItemSubject" (onDownloadClicked)="this.export($event)"></app-code-list>
        </div>
      </div>
    </div>
  </div>
  
</div>
<!-- router-outlet></router-outlet -->
